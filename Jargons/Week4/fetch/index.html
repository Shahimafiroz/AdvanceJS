<!DOCTYPE html>
<html lang="en">
    <script>
        // function populateDiv(){
        //   const num1 = document.getElementById("num1").value;
        //   const num2 =  document.getElementById("num2").value;
        //   // const element = document.getElementById("finalSum");
        //   fetch("https://sum-server.100xdevs.com/sum?a="+ num1 +"&b="+ num2)  // no ";" cause  .then is not resolved 
        //   .then(function(response){
        //     console.log(response);
        //     // if u try to do --> "const ans  = response.text()" you will get promise back
        //     response.text()
        //         .then(function(ans){
        //           console.log(ans);
        //           document.getElementById("finalSum").innerHTML =ans;
        //         })
        //   });
          
        // }

        let timeOut;// create a new calock
        function debouncepopulateDiv2(){
          //delay the call to populateDiv2 until i have not been called for 100 ms 
          //and i have been called atlest once 
          clearTimeout(timeOut); // clear the old clock that was running 
          timeOut = setTimeout(function(){  // start the new clock
            populateDiv2()
          } , 1000);
        }
      async  function populateDiv2(){
          const num1 = document.getElementById("num1").value;
          const num2 =  document.getElementById("num2").value;

          const response = await fetch("https://sum-server.100xdevs.com/sum?a="+ num1 +"&b="+ num2)
          const ans = await response.text();
          document.getElementById("finalSum").innerHTML =ans;
        }

    </script>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <br><br><br><br>
      <div><input oninput="debouncpopulateDiv2()" id = "num1"type="text" placeholder="Number 1"></input> </div> <br><br>
      <div> <input oninput="debouncepopulateDiv2()" id = "num2"type="text" placeholder="Number 2"></input></div> <br><br>
      <!-- <div> <button onclick="populateDiv2()">Calculate Sum</button> </div> <br><br> -->
      <div id="finalSum"> </div>
  </body>
</html>
